{"version":3,"file":"index.min.js","sources":["../index.js"],"names":["angular","module","run","$translate","$log","realTimeService","randomService","createCanvasController","canvas","gotStartMatch","params","yourPlayerIndex","playersInfo","matchController","isGameOngoing","isSinglePlayer","length","foodCreatedNum","allSnakes","allScores","index","create_snake","snake_array","create_food","d","startMatchTime","Date","getTime","setDrawInterval","gotMessage","fromPlayerIndex","messageString","message","messageObject","fromJson","a","s","f","gotEndMatch","endMatchScores","stopDrawInterval","sendMessage","isReliable","toJson","sendReliableMessage","sendUnreliableMessage","lostMatch","endMatch","intervalMillis","Math","max","drawEveryMilliseconds","floor","drawInterval","setInterval","updateAndDraw","clearInterval","playerIndex","arr","i","push","x","y","canvasWidth","cellWidth","food","randomFromTo","colsNum","rowsNum","secondsFromStart","changeDirQueue","draw","secondsToReallyStart","yourColor","playerSnakeColor","ctx","fillStyle","font","fillText","canvasHeight","msg","instant","color","toUpperCase","changeDirection","nx","ny","check_collision","tail","pop","unshift","fillRect","strokeStyle","strokeRect","drawSnake","paint_cell","score","snake","c","cellHeight","array","key","shift","addChangeDir","dir","processTouch","e","preventDefault","touchobj","targetTouches","lastX","pageX","lastY","pageY","distX","distY","swipedir","absDistX","abs","absDistY","info","id","getContext","document","addEventListener","which","init","config","$translateProvider","window","angularTranslations","Error","translations","useStaticFilesLoader","prefix","suffix","registerAvailableLanguageKeys","fallbackLanguage","determinePreferredLanguage"],"mappings":"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"}